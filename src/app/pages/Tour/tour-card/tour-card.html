<div class="card mb-3 mx-3">
  <div class="card-body p-0 border-0 w-100">
    <div class="row overflow-hidden">
      
      <!-- Left: Image -->
      <div class="col-lg-6 col-md-5 left-card d-flex align-items-start justify-content-center p-0 overflow-hidden">
        <div class="tour-images-container p-0 position-relative overflow-hidden w-100 h-100">

          <!-- Main Image with Fallback -->
          @if (Tours?.imageUrl) {
            <img
              [src]="getSafeImageUrl(Tours?.imageUrl)"
              [alt]="'Tour Image ' + Tours?.id"
              class="tour-image w-100 h-100 object-fit-cover"
            />
          } @else {
            <img
              src="https://via.placeholder.com/400x300?text=No+Image+Available"
              alt="No image available"
              class="tour-image w-100 h-100 object-fit-cover"
            />
          }

          <!-- Wishlist Button (Overlay) -->
          <div class="d-flex align-items-center position-absolute top-0 start-0 p-4">
            <button
              class="btn btn-outline-danger d-flex justify-content-center align-items-center"
              style="width: 40px; height: 40px;"
              (click)="addToWishlist(Tours?.id)"
              [disabled]="!Tours?.id"
            >
              <i class="fas fa-heart"></i>
            </button>
          </div>

        </div>
      </div>

      <!-- Right: Content -->
      <div class="col-lg-7 col-md-8 right-card">
        <h3 class="mb-0" [routerLink]="['/ToursDetails', Tours?.id]">
          {{ Tours?.name || 'Unnamed Tour' }}
        </h3>

        <div class="d-flex p-3 py-md-2 pt-1 pb-0 text-muted flex-wrap duration">
          <div class="d-flex">
            <span><i class="fa-solid fa-clock"></i></span>
            <span class="text-muted px-2 pe-1">
              {{ getDurationInDays(Tours?.startDate, Tours?.endDate) }} days,
            </span>
            <span class="text-muted">
              {{ getDurationInDays(Tours?.startDate, Tours?.endDate) + 1 }} nights
            </span>
          </div>
          <div class="d-flex mx-3">
            <span><i class="fa-solid fa-user"></i></span>
            <span>Max guests: {{ Tours?.maxGuests || 'N/A' }}</span>
          </div>
        </div>

        <div>
          <p class="m-0"><strong>Category:</strong> {{ Tours?.category || 'Uncategorized' }}</p>
          <div class="d-flex justify-content-between px-md-1 px-4">
            <h5>${{ Tours?.price?.toFixed(2) || '0.00' }}<small class="text-muted"></small></h5>
            <button
              [routerLink]="['/ToursDetails', Tours?.id]"
              class="btn text-black btn-primary bookBtn"
              [disabled]="!Tours?.id"
            >
              book now
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>